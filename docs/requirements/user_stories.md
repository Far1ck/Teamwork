<h2>US-01. Получение рекомендаций по ID пользователя</h2>
<p>
  <li><b>Актор:</b> Пользователь системы/Telegram-бот.</li>
  <li><b>Цель:</b> Получить список рекомендованных продуктов.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Пользователь отправляет запрос GET/recommendation/&ltuser_id&gt.</li>
      <li>Система проверяет выполнение статических и динамических правил для пользлователя.</li>
      <li>Система возвращает список рекомендаций (или пустой массив, если рекомендаций нет).</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Ответ содержит user_id и массив recommendations.</li>
      <li>Каждая рекомендация включает product_name, product_id, product_text.</li>
      <li>Время ответа не превышает 1 сек. для кешированных запросов.</li>
    </ul>
  </li>
</p>

<h2>US-02. Добавление динамического правила</h2>
<p>
  <li><b>Актор:</b> Менеджер системы.</li>
  <li><b>Цель:</b> Создать новое правило для рекомендаций.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Менеджер отправляет POST/rule с JSON-описанием правила.</li>
      <li>Система сохраняет правило в PostgreSQL.</li>
      <li>Система возвращает созданный объект с id.</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Правило сохраняется в БД.</li>
      <li>Ответ содержит все поля запроса + сгенерированный id.</li>
    </ul>
  </li>
</p>

<h2>US-03. Просмотр списка правил</h2>
<p>
  <li><b>Актор:</b> Менеджер системы.</li>
  <li><b>Цель:</b> Увидеть все созданные правила.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Менеджер отправляет GET/rule.</li>
      <li>Система возвращает список всех правил.</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Ответ содержит массив data с объектами правил.</li>
      <li>Каждый объект включает id, product_name, product_id, product_text, rule.</li>
    </ul>
  </li>
</p>

<h2>US-04. Удаление правила</h2>
<p>
  <li><b>Актор:</b> Менеджер системы.</li>
  <li><b>Цель:</b> Удалить существующее правило.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Менеджер отправляет DELETE/rule/&ltproduct_id&gt.</li>
      <li>Система удаляет правило и его статистику.</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Правило больше не доступно через GET/rule.</li>
      <li>Статистика по правилу удалена.</li>
    </ul>
  </li>
</p>

<h2>US-05. Получение статистики правил</h2>
<p>
  <li><b>Актор:</b> Аналитик.</li>
  <li><b>Цель:</b> Узнать, сколько раз сработало каждое правило.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Аналитик отправляет GET/rule/stats.</li>
      <li>Система возвращает статистику по всем правилам.</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Ответ содержит массив stats с rule_id и count.</li>
      <li>Правила без срабатываний имеют count = 0.</li>
    </ul>
  </li>
</p>

<h2>US-06. Работа Telegram-бота</h2>
<p>
  <li><b>Актор:</b> Клиент банка.</li>
  <li><b>Цель:</b> Получить рекомендации через Telegram.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Клиент отправляет /recommend username.</li>
      <li>Бот ищет пользователя по имени.</li>
      <li>Бот возвращает рекомендации или сообщение "Пользователь не найден".</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Ответ содерджит имя пользователя и список продуктов.</li>
      <li>При ошибке - сообщение "Пользователь не найден".</li>
    </ul>
  </li>
</p>

<h2>US-07. Сброс кеша</h2>
<p>
  <li><b>Актор:</b> Оператор системы.</li>
  <li><b>Цель:</b> Очистить кешированные данные.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Оператор отправляет POST/management/clear-caches.</li>
      <li>Система очищает все кеши.</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>После сброса последующие запросы выполняются без кеша.</li>
    </ul>
  </li>
</p>

<h2>US-08. Информация о сервисе</h2>
<p>
  <li><b>Актор:</b> Системный администратор.</li>
  <li><b>Цель:</b> Узнать весрию и название сервиса.</li>
  <li><b>Сценарий:</b>
    <ol>
      <li>Администратор отправляет GET/management/info.</li>
      <li>Система возвращает name и version.</li>
    </ol>
  </li>
  <li><b>Критерии приёмки:</b>
    <ul type = "circle">
      <li>Ответ содержит актуальные name и version из pom.xml.</li>
    </ul>
  </li>
</p>
